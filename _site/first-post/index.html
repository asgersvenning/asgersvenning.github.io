<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Asger Svenning" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Asger Svenning" /> <title> The first post... has a very long title for testing purposes. This is not generally a great idea, but I need to test some things out. - Asger Svenning </title> <link rel="alternate" href="http://localhost:4000/first-post/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/first-post/" /> <meta name="description" content="This is simply a sample post, to test how the layout works with posts." /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="The first post... has a very long title for testing purposes. This is not generally a great idea, but I need to test some things out. | Asger Svenning" /> <meta property="og:title" content="The first post... has a very long title for testing purposes. This is not generally a great idea, but I need to test some things out. | Asger Svenning" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/first-post/" /> <meta property="og:description" content="This is simply a sample post, to test how the layout works with posts." /> <meta property="og:image" content="http://localhost:4000/first-post/wrench.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="The first post... has a very long title for testing purposes. This is not generally a great idea, but I need to test some things out. | SvenningAsger" /> <meta name="twitter:url" content="http://localhost:4000/first-post/" /> <meta name="twitter:site" content="@SvenningAsger" /> <meta name="twitter:creator" content="@SvenningAsger" /> <meta name="twitter:description" content="This is simply a sample post, to test how the layout works with posts." /> <meta name="twitter:image" content="http://localhost:4000/first-post/wrench.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Asger Svenning" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> <!-- for mathjax support --> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "AMS" } } }); </script> <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?config=TeX-AMS-MML_HTMLorMML"></script> </head> <body data-theme="dark" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">🏠</a><a class="menu-link" href="/publications/">📚</a><a class="menu-link" href="/posts/">🪦</a><a class="menu-link" href="/about/">🕵️</a><a class="menu-link" href="https://github.com/asgersvenning/asgersvenning.github.io" target="_blank" rel="noopener" ><svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path id="gh-icon-path" d="m50.041 0c-27.672 0-50.041 22.917-50.041 51.267 0 22.662 14.333 41.846 34.217 48.635 2.486 0.51041 3.3966-1.1031 3.3966-2.4604 0-1.1885-0.08194-5.2625-0.08194-9.5073-13.92 3.0562-16.819-6.1114-16.819-6.1114-2.2371-5.9416-5.5517-7.4687-5.5517-7.4687-4.5561-3.1406 0.33188-3.1406 0.33188-3.1406 5.0539 0.33959 7.7058 5.2625 7.7058 5.2625 4.4731 7.8083 11.681 5.6021 14.581 4.2437 0.41382-3.3104 1.7403-5.6021 3.1487-6.875-11.102-1.1885-22.784-5.6021-22.784-25.295 0-5.6021 1.9872-10.185 5.1359-13.75-0.49679-1.2729-2.2371-6.5364 0.49781-13.581 0 0 4.2253-1.3583 13.752 5.2625a48.112 48.927 0 0 1 12.511-1.6979c4.2253 0 8.5325 0.59479 12.51 1.6979 9.5281-6.6208 13.753-5.2625 13.753-5.2625 2.7349 7.0448 0.99357 12.308 0.49676 13.581 3.2317 3.5646 5.1369 8.1479 5.1369 13.75 0 19.693-11.681 24.021-22.867 25.295 1.8233 1.6125 3.3966 4.6677 3.3966 9.5062 0 6.875-0.08196 12.393-0.08196 14.09 0 1.3583 0.91163 2.9719 3.3966 2.4625 19.884-6.7916 34.217-25.974 34.217-48.636 0.081954-28.351-22.37-51.267-49.958-51.267z" clip-rule="evenodd" fill="#24292f" fill-rule="evenodd" stroke-width="1.0329"/></svg></a ><a class="menu-link" href="/feed.xml"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="#ED812E"> <title>RSS</title> <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z" /> <path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z" /> <path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z" /> </svg></a></div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <div class="tags"> <span itemprop="keywords"> <a class="tag" href="/tags/#jekyll">JEKYLL</a>, <a class="tag" href="/tags/#webpage">WEBPAGE</a>, <a class="tag" href="/tags/#test">TEST</a> </span> </div> <h1 class="header-title" itemprop="headline">The first post... has a very long title for testing purposes. This is not generally a great idea, but I need to test some things out.</h1> <div class="post-meta"> <time datetime="2024-11-11T16:35:00+01:00" itemprop="datePublished"> Nov 11, 2024 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Asger Svenning</span> </span> <time hidden datetime="2024-11-11T17:51:00+01:00" itemprop="dateModified"> Nov 11, 2024 </time> <span hidden itemprop="publisher" itemtype="Person">Asger Svenning</span> <span hidden itemprop="image">/first-post/wrench.png</span> <span hidden itemprop="mainEntityOfPage"><p>This is a sample post, to test how the layout of my webpage works with posts.</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p>This is a sample post, to test how the layout of my webpage works with posts.</p> <h1 id="a-post-might-include-an-image"> <a href="#a-post-might-include-an-image" class="anchor-head"></a> A post might include an image: </h1> <figure> <img src="/first-post/wrench.png" /> <figcaption> This is a figure - and a caption!</figcaption> </figure> <h1 id="a-bunch-of-text"> <a href="#a-bunch-of-text" class="anchor-head"></a> A bunch of text… </h1> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean id diam quis diam bibendum porta. Cras tellus dolor, condimentum ut dapibus ut, dignissim mattis elit. Nullam mattis nunc in ante lobortis ullamcorper. Phasellus accumsan urna non viverra varius. Sed elementum urna eget velit varius ultrices. Nunc ac sapien ut massa vulputate consequat vitae vel lorem.</p> <p>Proin nulla mauris, dapibus in rhoncus sed, pellentesque nec nibh. Donec vulputate justo a ante condimentum, sit amet vehicula justo fermentum. Cras sit amet massa a ex iaculis tincidunt. Nulla ullamcorper rhoncus iaculis. In hac habitasse platea dictumst. Morbi eu ligula eget mi maximus sodales et at nunc. Integer feugiat purus eu egestas elementum. Vestibulum molestie justo nec odio cursus, eu sodales quam aliquet. Donec auctor nulla nec dolor lacinia dapibus. Maecenas pharetra sit amet orci non gravida.</p> <h1 id="a-table"> <a href="#a-table" class="anchor-head"></a> a table… </h1> <table> <thead> <tr> <th><strong>Some</strong></th> <th><strong>Columns</strong></th> <th><strong>…</strong></th> </tr> </thead> <tbody> <tr> <td>Tables</td> <td> </td> <td> </td> </tr> <tr> <td> </td> <td>are</td> <td> </td> </tr> <tr> <td> </td> <td> </td> <td>awesome</td> </tr> </tbody> </table> <h1 id="and-some-math"> <a href="#and-some-math" class="anchor-head"></a> and some math! </h1> <ol> <li> <p>Select one or more hidden layers, \(L_{\text{reg}}\), in the DNN architecture to regularize.</p> </li> <li> <p>For a given minibatch of \(n\) inputs, perform a forward pass for each input, \(i\), and store the activations, \(\mathbf{A}\), of the chosen layers, \(L_{\text{reg}}\).</p> </li> <li> <p>Calculate a batch activation kernel matrix, \(\mathbf{K_{\mathrm{batch}}}\), given a commutative kernel, \(\omega_B(\mathbf{A_j}, \mathbf{A_k}) \rightarrow \mathcal{R}_{[0,\,1]}\), computed between all pairs, \(j,k\), of the \(n\) inputs. Specifically, the inner product is proposed as the kernel:</p> \[\mathbf{K}_{\mathrm{batch}, jk} = \left\langle \mathbf{A}_j, \mathbf{A}_k \right\rangle\] <p>To ensure non-negativity, the following modification is applied:</p> \[\mathbf{K}_{\mathrm{batch}, jk} = \frac{2 - \left(\langle \widehat{\mathbf{A}_j}, \widehat{\mathbf{A}_k} \rangle + 1\right)}{2}\] <p>Consequently, \(\mathbf{K_\mathrm{batch}} \in \mathcal{R}_{[0, 1]}^{n \times n}\), simplifying further analyses. Efficient computation is as follows:</p> \[\mathbf{K}_{\mathrm{batch}} = \frac{1}{2} - \frac{\widehat{\mathbf{A}} \cdot \widehat{\mathbf{A}}^\mathrm{T}}{2}\] <p>A downside is that this kernel is scale-invariant, so other kernels might be more appropriate. A few suggestions are the Euclidean distance:</p> \[\mathbf{K}_{\mathrm{batch}, jk} = \lVert \mathbf{A}_j, \mathbf{A}_k \rVert^2\] <p>which unfortunately does not conform to \(\mathcal{R}_{[0, 1]}\) but instead \(\mathcal{R}^+\), or the Radial Basis Function:</p> \[\mathbf{K}_{\mathrm{batch}, jk} = 1 - \exp{\left(-\frac{\lVert \mathbf{A}_j, \mathbf{A}_k \rVert^2}{\sigma^2}\right)}\] </li> <li> <p>The expected batch activation kernel matrix is based on the kernel structure for items \(i\), defined by their classes \(C_i\) and the class structure \(S_C\):</p> \[E(\mathbf{K}_{\mathrm{batch}, jk}; \mathbf{C}, S_C) = \omega_s(\mathbf{C}_j, \mathbf{C}_k;\; S_C)\] <p>I will call this the batch structure kernel matrix:</p> \[\mathbf{K}_{\mathrm{struct}} = E(\mathbf{K}_{\mathrm{batch}}; \mathbf{C}, S_C)\] </li> <li> <p>Compute a “class structure” loss function, \(\mathcal{L}_{S(i, S_C)}\), and incorporate it into the regular loss:</p> \[\begin{align*} \mathcal{L}^* &amp;= \mathcal{L}(i) + \lambda\mathcal{L}_S(\mathbf{C}, \mathbf{A}; S_C) \\ \mathcal{L}_S(i) &amp;= \frac{\lVert \mathbf{K}_{\mathrm{struct}}(\mathbf{C}; S_C) - \mathbf{K}_{\mathrm{batch}}(\mathbf{A}) \rVert_F}{n^2 - n} \end{align*}\] <p>Where \(\lambda\) is a scaling factor for the regularization term, and \(\mathbf{A}\) is the stacked activations of \(L_{reg}\) given an input batch and \(\mathbf{C}\) are the labels of the batch.</p> </li> <li> <p>For multiple class structures, a loss is calculated separately for each structure, and each is added to the total loss.</p> <p><strong>Note</strong>: \(\mathbf{K_\mathrm{batch}}\) only needs to be computed once, so only step <strong>[5]</strong> must be recomputed (if \(\mathbf{K_\mathrm{struct}}\) is cached efficiently).</p> </li> </ol> </div> </article> </main> <small class="post-updated-at">updated_at 11-11-2024</small> <footer class="footer"> <!-- <a class="footer_item" href="/thanks">Acknowledgements</a> --> <span class="footer_item"><small class="footer_copyright"> &copy; 2024, <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener">klisé</a> theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener">jekyll</a> </small></span> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
